\input macros
\rightskip=0pt plus 1fill
\input cstuff
\headline{{\bf CECS 476\hfill Assignment 22 \hfill Spring 2010}}
\footline{Dennis Volper \hfill 15 April 2010 (Week 11 Lecture 2)\hfill 
Due: 20 April 2010 (Week 12 Lab 1)}
\parindent 0pt

This project is about httpd.

If you did not load the http package when you loaded the system you can
install it from
{\ltt{}jaguar:/hdb/disk1/slackware/n/httpd-2.2.15-i486-1_slack13.0.txz}.

The web server should be fully configured.
This project is about modifying Web access (security) to
directories.

You can enable the webserver by 
{\ltt{}chmod a+x /etc/rc.d/rc.httpd}
and rebooting,
but I would recommand doing the {\ltt{}chmod} and starting by simply
running that file with the {\ltt{}start} parameter.

Setup home pages for both bob and ftp.
A simple home page is available in {\ltt{}~djv/index.html}.
In bob's version of the home page change ``CECS 476" to bob.
In ftp's version of the home page change ``CECS 476" to ftp.
This allows you to distinguish them.
Make sure you can assess the home pages for both ftp and bob.

Now that you have http working,
configure your http security as follows:
\hfill\break
1) The machine home page {\ltt{}http:labxx.net.cecs.csulb.edu}
should be available
\hfill\break
2) The home page for bob {\ltt{}http:labxx.net.cecs.csulb.edu/~bob}
should be available
\hfill\break
3) The home page for ftp {\ltt{}http:labxx.net.cecs.csulb.edu/~ftp}
should NOT be available

That is, even though ftp has a legal home page, you are declaring
through the http security mechanisms that no one is allowed to
access that home page.

To test you will need to start a browser on some machine. 
If you want, you may configure X on your machine for this project or use 
another machine in the lab whose administrator has X configured.

Note: do the security with the http mechanisms, do NOT do
this by using
{\ltt{}chmod} on the ftp files or directories to make them unreadable.

Submit: 
You had to change several things in the configuration files;
report each of the changes you made.
(Don't report the whole file, only the changes.)

4) Create a new directory and put a page into it.
Call the directory
{\ltt{}http:labxx.net.cecs.csulb.edu/~bob/limited}.
A copy of bob's home page is fine.
Add an {\ltt{}.htaccess} file to control access to this directory.
Access should be controlled by password.
Place the password file inside the {\ltt{}limited} directory.
(This is not the most secure place to put it, it's just convenient.)

There should be two users who have access to the {\ltt{}limited}
directory:
{\ltt{}bob} using password {\ltt{}access31}
and 
{\ltt{}joe} using password {\ltt{}access33}.

Note: {\ltt{}joe} deliberately is a http ``user" only,
he does not have a login account on your machine.
Testing: make sure when you try to access the secure page,
a password is required and the password works.

Submit: the contents of your {\ltt{}.htaccess} file.
The exact form of the {\ltt{}htpasswd} command you
used for {\ltt{}bob}.

5) Disallow access to all files ending in {\ltt{}.secret}
Place in {\ltt{}~bob} a test file called {\ltt{}test.secret}.
It should be readable by everyone (test using your account or confirm
using {\ltt{}ls}).
Make sure you cannot access that file from the web browser.

Submit: Report the change you made to the configuration files.

Demonstration: If I don't see a demonstration of your
http configuration; you must leave the {\ltt{}httpd} server
running so I can test your configurations.

\bye
