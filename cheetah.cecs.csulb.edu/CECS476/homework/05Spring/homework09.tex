\input macros
\rightskip=0pt plus 1fill
\input cstuff
\headline{{\bf CECS 476\hfill Homework 9 \hfill Spring 2005}}
\footline{Dennis Volper \hfill 23 February 2005 (Week 5 Lecture 2)\hfill 
Due: 28 February 2005 (Week 6 Lab 1)}
\parindent 0pt

This assignment covers building a new system kernel.
WARNING: this may take a while.
WARNING: be careful, you can easily erase your operating system.

Build and boot with a new installation of the kernel.

%A) Get a copy of the {\ltt{}config.net.i} configuration file from
%the {\ltt{}~djv} directory. 

I recommend you compile and install to make sure it works.
(I.e., skip A for now and compile and install a "stock" kernel to
make sure you know the procedure).
The kernel may not have networking working, but it should boot.

A) Configure the kernel. 

Eliminate any unnecessary drivers and/or components so that your kernel is
as small as possible.
Add any drivers necessary for enabling your networking.

Your machine has:
an IDE hard drive, a PCI bus, a PS/2 mouse
and a
a network card, (the exact type varies)

B) Build a new kernel ({\ltt{}bzImage}).

1) Report: the elapsed time to do the build.

Note: do a date before you start, write it down and look at
the date stamp on the {\ltt{}bzImage} file (which is created at
the end or the build).

C) Modify the {\ltt{}lilo.conf} file to have a second linux
bootable configuration.
Duplicate the 4 lines and two comment lines (total of 7 lines),
change the image to {\ltt{}bzImage} and the label to {\ltt{}bz}.
Make sure the original bootable configuration entry stays first so that
it is the default.

D) Move the new kernel so that it is {\ltt{}/boot/bzImage}.
(Do NOT under ANY circumstances remove or replace {\ltt{}vmlinuz}

E) Run lilo, it should show two ``Added" reports.

F) Reboot, shift key down; select bz.

Make sure your kernel is working by,
i) can bob login (and ls his home dir)
ii) can your personal account login (and ls your home dir). 

2) Report: the contents of {\ltt{}/proc/sys/kernel/version} 

3) Report: the size of you new kernel.

\bye
