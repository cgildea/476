\def\chapternumber{CECS 472, IPv6  --- Volper -- 29 January 1998}
\input slides.tex
\input cstuff.tex
\centerline{\bbf Internet Address Politics}

Problem: We are running out of addresses.

Class C is too small for most organizations.
\break
(Class B is often too large.)
\break
Shortage of class B.

Short term solution:
\break
Hostmaster will issue a group (8/16) of Class C 
\break
Use CIDR for routing to these groups

Long term solution:
\break
Internet Protocol version 6 IPv6 
\break
(also called SIPP-Simple Internet Protocol Plus
\break
or IPng-Internet Protocol next generation)
\break
Current is IPv4
\newslide
\centerline{\bbf IPv6 Packet}

{\railroadfont
.PS
boxht=0.5i
Ip1: box wid 6.4i 
"32 bits" at Ip1.n above
Ves: box wid 0.8i with .w at Ip1.w "vers"
Flow: box wid 5.6i with .w at last box.e "flow label"
Leng: box wid 3.2i with .nw at Ves.sw "payload length"
Next: box wid 1.6i with .w at last box.e "payload type"
Hops: box wid 1.6i with .w at last box.e "hop limit"
Ipsa: box wid 6.4i ht 1.0i with .nw at Leng.sw "IP source address" "128-bits"
Ipda: box wid 6.4i ht 1.0i with .nw at Ipsa.sw "IP destination address" "128-bits"
Data: box wid 6.4i with .nw at Ipda.sw "Data ..."
.PE
\centerline{\box\graph}}

Header: Fixed size.
\break
{\ltt{}vers}--6  (IP version 6)
\break
{\ltt{}flow}--quality of service. Drop priority (0--7) (e.g. voice),
Flow id (indicates special handling, e.g. video)
\break
{\ltt{}length}--of payload in octets
\break
{\ltt{}type}--protocol  (e.g. {\ltt{}SOCK_DGRAM})
\break
{\ltt{}hop}--when to discard
\break
{\ltt{}addresses}--128 bits. Includes ``service provider" (att/sprint) and 
``subscriber id" (who to charge).
\break
Options and security information are included in the payload.
\break
(payload may include a SIPP ``header")
\newslide
\centerline{\bbf IPv6 Addresses}

128 bit addresses. ($10^{12}$ addresses/square meter)

Low efficiency allocation of subnets: 1500 addresses/square meter
\vt

\halign{#\hfil\quad&\quad#\hfil\cr
Prefix&Use\cr
0000 001&non Internet address encodings\cr
0000 010&IPX encodings\cr
010&Provider-based unicast\cr
100&Geographic-based unicast\cr
1111 1110 10&Link local\cr
1111 1110 11&Site local\cr
1111 1111&Multicast addresses\cr
}

Large blocks unassigned for future growth.
\newslide
\centerline{\bbf Address types}

Provider-based unicast:
\break
Addresses based on provider (cable attachment).
\break
Current form of IP functionality.

Geographic-based unicast:
\break
Addresses based on geographic location (not cable attachment).

Link local: Local address, valid in local setting only, cannot access outside
local area, reused by other local settings.

Site local: addresses reused by many sites.
Valid only locally.

Multi-cast: address represents a group of machines.
Machines can register/deregister for multicast groups.

Legacy: prefix IPv4 address by 80 zero bits followed by 16 1 bits.
Machine does not understand IPv6

Legacy: prefix IPv4 address by 96 zero bits.
Machine understands IPv6
\newslide
\centerline{\bbf IPv6 addresses}

Notation: colon separated 2-byte hexadecimal pieces.

{\ltt{}8478:97C2:D4D2:4B3C:328B:2321:138A:F387}

Hierarchy

Subscribers, 
\break
direct providers (regional networks),
\break
indirect providers (backbone networks)

Address organization:

010:Registry:Provider:Subscriber:Subnet:Interface
\break
Goal--reduce routing table size
\vt
Address auto configuration:

Build your own address as you boot.
\break
1) build your interface part (48-bit ethernet card number)
\break
2) build this into a link-local address
\break
3) request Registry..Subnet parts
\newslide
\centerline{\bbf IPv4/6 gateways}

IP4 packet in:

IPv6 header appended with ::00FF:
\break
Routed over IPv6 network,
\break
IPv6 header is removed when it goes back to an IPv4 area. 
\vt
IP6 packet in:

Tunneled over IPv4 area
\break
Packet rebuilt into IPv6 is contained message
\break
Sent in IPv4 packets to another gateway
\break
IPv4 packets reassembled into IPv6 packet at other gateway.
\vt
{\bbf IPv6 Routing header}

Inside IPv6 packet:

indicates routing to be taken

eg. specifies use of certain direct/indirect provider

Reasoning: cost is lower, speed is faster, security is better

\bye
