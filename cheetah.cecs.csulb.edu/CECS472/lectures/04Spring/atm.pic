\def\chapternumber{Lecture Slides, ATM --- Volper -- 2 December 2002}
\input slides.tex
\centerline{\bbf ATM}

Observation: Long haul communications are phone connections.

Goal: use the phone type switching for networking.

Simple cell structure (mini-packet).

Virtual circuits.
You have a connection, but connections can share
(multiplex over) high speed lines.

Establishing connections: use the existing phone dialing system.
Each computer on an ATM network is assign a phone number (ISDN).

ATM works on the bases of switches.
\break
An end point is connected to a switch.
\break
Switches are connected to other switches.

\vt
Overview: 

1) Request an ATM Virtual connection.
\break
This generates a virtual circut from an end-point through
the switches to another end-point.

2) Send your IP data over that connection.

3) Request the connection be broken down (close).

\newslide
\centerline{\bbf ATM Switching Fabric}

Two types of connections:

UNI: User to Network Interface---from an end node
to one of the switches

NNI: Network to Network Interface---between two
switches

{\railroadfont
.PS
boxwid = 0.6i
boxht = 0.3i
circlerad = 0.1i
vert=0.8i
horiz=0.8i
S1: box
S2: box with .w at last box.e + (1.0*horiz,0)
S3: box with .w at last box.e + (1.0*horiz,0)
S4: box with .w at last box.e + (1.0*horiz,0)
N1: circle with .c at S1.n + (0, vert)
N2: circle with .c at S2.n + (0, vert)
N3: circle with .c at S3.n + (0, vert)
N4: circle with .c at S4.n + (0, vert)
line from S1.e to S2.w "NNI" above
line from S2.e to S3.w "NNI" above
line from S3.e to S4.w "NNI" above
line from S1.n to N1.s " UNI" ljust
line from S2.n to N2.s
line from S3.n to N3.s
line from S4.n to N4.s " UNI" ljust

Nc: circle with .c at S1.s + (0,-vert)
Sc: box with .c at Nc.s + (0,-0.5*vert)
" end node" at Nc.e ljust
" switch" at Sc.e ljust
.PE
\centerline{\box\graph}}


\newslide
\centerline{\bbf Cells}

A cell always has 53 bytes.

There are two types of cells (minor differences)
\break
User to Network Interface (UNI)
\break
Network to Network Interface (NNI)

\vt
UNI: 

48 bytes data (payload):

5 bytes: header (40 bits)

4 bits: Flow control

8 bits: Virtual Path Identifier

16 bits: Virtual Circuit Identifier

3 bits: Payload type

1 bit: Priority

8 bits: Cyclic Reduncancy Check
\newslide
\centerline{\bbf Transmitting Data Packets}
\centerline{\bbf ATM Adaptation Layer (AAL5)}

1) Send packets.
\break
2) Break the packet into cells.
\break
3) Reassemble the packet from cells.

AAL5 packet:
\break
---1--64K bytes data.
\break
---8 bytes trailer.
\break

Data: 1--1366 cells. Last cell is partially filled.

Trailer:
\break
1 cell (partially empty)
\break
2 unused bytes (UU,CPI)
\break
2 length bytes (up to 64K)
\break
4 checksum bytes
\break
Marked with a 1 in the last bit of the ``Payload type" field of the header.
\break
Always the last cell of the packet.
\newslide
\centerline{\bbf Switched Virtual Circuit}

The circuit has a unique circuit identification number on each segment.
\vt
Switches keep a table of virtual circuits.

Circuit table entry.

Circuit 33, interface 5 linked to circuit 17 interface 8

{\railroadfont
.PS
boxwid = 0.6i
boxht = 0.3i
circlerad = 0.1i
vert=0.8i
horiz=0.8i
S1: box
S2: box with .e at last box.w + (3*horiz,0)
S3: box with .e at last box.w + (3*horiz,0)
S4: box with .e at last box.w + (3*horiz,0)
N1: circle with .c at S1.n + (0, vert)
N2: circle with .c at S2.n + (0, vert)
N3: circle with .c at S3.n + (0, vert)
N4: circle with .c at S4.n + (0, vert)
line from S1.e to S2.w "17" above
line from S2.e to S3.w "23" above
line from S3.e to S4.w "41" above
line from S1.n to N1.s " 33" ljust
line from S2.n to N2.s
line from S3.n to N3.s
line from S4.n to N4.s " 24" ljust
.PE
\centerline{\box\graph}}

The above virtual circuit uses circuit IDs:
\break
33, 17, 23, 41 and 24.
\vt
During transmission the switches needs
only the virtual circuit table.

To send a packet, translate the destination IP address
to a virtual circuit number (33) and send using AAL5.

\newslide
\centerline{\bbf Establishing a Virtual Circuit}

1) Map the IP address of the destination to an ATM hardware address

2) Establish a virtual circuit to the ATM hardware address

ATM hardware address come in two sizes:
\break
8 octet (an ISDN phone number)
\break
20 octet (ATM Forum extend address)

Connections (virtual circuits) are made using the 
standard ``phone dialing" capability

Mappings are kept by a central server whose ATM number is
known by all the switches

Server interactions:
\break
1) Register your IP. Call the server and send your ATM number
and internet address.

2) Get an ATM address. Call the server and specify the IP address
you want to connect to. The server will return the ATM number
corresponding to that IP address
\bye
