\input macros
\input cstuff
\headline{{\bf CECS 472\hfill Homework 22 \hfill Spring 2005}}
\footline{Dennis Volper \hfill 27 April 2005 (Week 13 Lecture 2)\hfill
Due: 1 May 2005 (Week 14 Lecture 1)}
\parindent 0pt

Purpose: To use local domain sockets.

You will build an upgraded TCP time client/server pair
from your homework.
You will call your client {\ltt{}ATtimec.c}.
You will call your server {\ltt{}ATtimed.c}.
They will be upgrades of your {\ltt{}Ttimec.c} and {\ltt{}Ttimed.c}
respectively.

Upgrades:

Your client and server should talk to each other using a Local domain
socket.
This means that they both must run on the same machine.
For the name of the file use {\ltt{}/tmp/XXX} with the {\ltt{}XXX}
replaced by your account name. For example if your account
is {\ltt{}csa472z9} your file name should be {\ltt{}/tmp/csa472z9}.

The Comer procedures {\ltt{}connectTCP}, {\ltt{}passiveTCP},
{\ltt{}connectsock} and {\ltt{}passivesock}.
can no longer be used.
Place the socket code directly into your main program.
Remove the includes for these files.
You will need to copy the appropriate
system {\ltt{}#include}s from {\ltt{}connectsock} (into your client)
and {\ltt{}passivesock} (into your server).
Be careful on the server, I only showed you the changes through the
{\ltt{}bind}; the {\ltt{}listen} still needs to be there.

Submit: a printout of your {\ltt{}ATtimec.c} and {\ltt{}ATtimed.c} files.

Copies of these files must be located in your class home directory;
and have the name above.

\bye
